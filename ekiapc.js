function Eki(){
this.ver= "1.11";
this.dev= "zipaddr";
this.sntk="---選択";
this.pm=new Array();
this.pm[1]={"pref":"pref1","line":"line1","station":"station1"};
this.pm[2]={"pref":"pref2","line":"line2","station":"station2"};
this.pm[3]={"pref":"pref3","line":"line3","station":"station3"};
this.pref= "";
this.line= "";
this.station="";
this.prefcd;
this.linecd;
this.statcd;
this.call="linestat_scall";
this.Cache=[];                                    // キャッシュ
} var D= new Eki;
function linetostation(c){D.Cache[D.linecd]=c;var q=c[D.linecd];var k=c.name;var w=c.clon;var e=c.clat;var n=c.zoom;document.getElementById(D.station).innerHTML=cTc(q);if(typeof map_station==="function")map_station(q,k,w,e,n)};bSd=function(m,k){var y="change";var d=document.getElementById(m);if(k==1){xQb(d,y,nZa)}else if(k==2){xQb(d,y,hGa)}else if(k==3){xQb(d,y,wWb)}};cWd=function(s){D.pref=D.pm[s].pref;D.line=D.pm[s].line;if(document.getElementById(D.pref)){D.prefcd=document.getElementById(D.pref).value;var f=D.Cache[D.prefcd];if(f)preftoline(f);else pDd(D.prefcd)}};hNe=function(){tNa(5)};zBc=function(){cWd(1)};fWe=function(){var b=["1:北海道","2:青森県","3:岩手県","4:宮城県","5:秋田県","6:山形県","7:福島県","8:茨城県","9:栃木県","10:群馬県","11:埼玉県","12:千葉県","13:東京都","14:神奈川県","15:新潟県","16:富山県","17:石川県","18:福井県","19:山梨県","20:長野県","21:岐阜県","22:静岡県","23:愛知県","24:三重県","25:滋賀県","26:京都府","27:大阪府","28:兵庫県","29:奈良県","30:和歌山県","31:鳥取県","32:島根県","33:岡山県","34:広島県","35:山口県","36:徳島県","37:香川県","38:愛媛県","39:高知県","40:福岡県","41:佐賀県","42:長崎県","43:熊本県","44:大分県","45:宮崎県","46:鹿児島県","47:沖縄県"];return b};dQc=function(){cWd(4)};wGa=function(r){var x=r;if(r==""||document.getElementById(r)){}else{var y=document.getElementsByName(r);if(y.length==1&&(y[0].id=="undefined"||y[0].id=="")){x=x.replace(/\[/g,"");x=x.replace(/\]/g,"");y[0].id=x}else if(y.length==1){x=y[0].id}}return x};function stationsearch(v){var a;if(location.protocol=="https:")a="%u3048ekia%u3042pp-%u3046com.ssl-s%u3044ixcore.jp";else a="e%u3048k%u3042ia%u3046p%u3044p.%u3042c%u3048om";var g=sWb(unescape(a));var r=location.protocol+'/'+'/'+g+'/js/stationsearch.php?k='+v;nDe(r)};bTa=function(){cWd(5)};tNa=function(t){D.line=D.pm[t].line;D.station=D.pm[t].station;if(document.getElementById(D.line)){D.linecd=document.getElementById(D.line).value;var b=D.Cache[D.linecd];if(b)linetostation(b);else pDd(D.linecd)}};sRe=function(){cWd(2)};cTc=function(h){var g="";if(D.sntk!="")g+='<option value="">'+D.sntk+'</option>';for(var k=0;k<h.length;k++){var q=h[k].id;var ha=h[k].name;g+='<option value="'+q+'">'+ha+'</option>'}return g};wWb=function(){tNa(3)};nDe=function(y){gKc(D.call);var z=document.createElement("script");z.id=D.call;z.setAttribute("type","text/javascript");z.setAttribute("src",y);z.setAttribute("charset","UTF-8");document.body.appendChild(z)};mDe=function(h,a){var d="change";var x=document.getElementById(h);var f=x.tagName.toLowerCase();if(f=="select"&&x.options.length<=0){var s=new Array();var g=fWe();for(var r=0;r<g.length;r++){var q=g[r].split(":");s[r]={"id":q[0],"name":q[1]}}x.innerHTML=cTc(s)}if(a==1){xQb(x,d,zBc)}else if(a==2){xQb(x,d,sRe)}else if(a==3){xQb(x,d,xKd)}};xKd=function(){cWd(3)};xQb=function(n,g,v){if(n.addEventListener){n.addEventListener(g,v,false)}else if(n.attachEvent){n.attachEvent('on'+g,v)}};gKc=function(p){if(document.getElementById(p)){var x=document.getElementById(p);var xBody=document.getElementsByTagName("body").item(0);xBody.removeChild(x)}};pNb=function(){if(typeof ekiapc_own==="function")ekiapc_own();for(var n=1;n<D.pm.length;n++){var s=D.pm[n];var t="";var u="";var f="";if(typeof s.pref!="undefined")t=wGa(s.pref);if(typeof s.line!="undefined")u=wGa(s.line);if(typeof s.station!="undefined")f=wGa(s.station);if(document.getElementById(t)&&document.getElementById(u))mDe(t,n);if(document.getElementById(u)&&document.getElementById(f))bSd(u,n)}};pDd=function(m){var w=sWb(unescape("%u3048e%u3042k%u3044i%u3048d%u3046at%u3042a%u3046"));var r=sWb(unescape("%u3042g%u3046it%u3046h%u3046ub%u3042.%u3046i%u3046o"));var u=location.protocol+'/'+'/'+D.dev+'.'+r+'/'+w+'/'+m+".js";nDe(u)};sWb=function(c){var z=c.replace(/う/g,'');z=z.replace(/あ/g,'');z=z.replace(/い/g,'');z=z.replace(/え/g,'');return z};nZa=function(){tNa(1)};zVe=function(){tNa(4)};hGa=function(){tNa(2)};function preftoline(d){D.Cache[D.prefcd]=d;var t=d[D.prefcd];var m=d.name;document.getElementById(D.line).innerHTML=cTc(t)};if(window.addEventListener){window.addEventListener('load',pNb,true)}else if(window.attachEvent){window.attachEvent('onload',pNb,true)}